# Environment Variables Reference

## üìã Quick Setup Guide

### Frontend Environment Variables (.env in root)

```env
# EmailJS Configuration (Required for Contact Form)
VITE_EMAILJS_SERVICE_ID=service_xxxxxxx
VITE_EMAILJS_TEMPLATE_ID=template_xxxxxxx
VITE_EMAILJS_PUBLIC_KEY=xxxxxxxxxxxxxxx

# Backend API URL (Optional - only if backend is deployed separately)
# Leave empty or omit if using Vercel serverless (same domain)
VITE_API_URL=
```

### Backend Environment Variables (.env in backend/)

```env
# MongoDB Connection (Required)
MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/6ixmindslabs?retryWrites=true&w=majority

# JWT Secret for Authentication (Required)
# Generate a random 32+ character string
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-long-change-this

# Server Configuration
NODE_ENV=production
PORT=3000

# Rate Limiting (Optional)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5
```

---

## üîß Vercel Environment Variables

When deploying to Vercel, add these in the Vercel dashboard under **Settings ‚Üí Environment Variables**:

### Required Variables:

| Variable | Value | Used By |
|----------|-------|---------|
| `MONGODB_URI` | `mongodb+srv://...` | Backend API |
| `JWT_SECRET` | Random 32+ char string | Backend Auth |
| `VITE_EMAILJS_SERVICE_ID` | EmailJS service ID | Contact Form |
| `VITE_EMAILJS_TEMPLATE_ID` | EmailJS template ID | Contact Form |
| `VITE_EMAILJS_PUBLIC_KEY` | EmailJS public key | Contact Form |

### Optional Variables:

| Variable | Default | Description |
|----------|---------|-------------|
| `NODE_ENV` | `production` | Environment mode |
| `PORT` | `3000` | Server port (not used in Vercel) |
| `VITE_API_URL` | `''` (empty) | Backend URL if separate |

---

## üìù How to Get These Values

### MongoDB URI
1. Go to [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. Create free cluster
3. Click "Connect" ‚Üí "Connect your application"
4. Copy connection string
5. Replace `<password>` with your database user password
6. Replace `<dbname>` with `6ixmindslabs`

**Example:**
```
mongodb+srv://admin:MyPassword123@cluster0.abcde.mongodb.net/6ixmindslabs?retryWrites=true&w=majority
```

### JWT Secret
Generate a random string (32+ characters):

**Option 1 - Online Generator:**
- Visit: https://randomkeygen.com/
- Use "CodeIgniter Encryption Keys" or "256-bit WEP Keys"

**Option 2 - Command Line:**
```bash
# Linux/Mac
openssl rand -base64 32

# Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**Example:**
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
```

### EmailJS Credentials
1. Go to [EmailJS](https://www.emailjs.com/)
2. Create free account
3. Add email service (Gmail, Outlook, etc.)
4. Create email template with these variables:
   - `{{name}}`
   - `{{email}}`
   - `{{phone}}`
   - `{{message}}`
5. Copy:
   - Service ID (from Services page)
   - Template ID (from Templates page)
   - Public Key (from Account ‚Üí General)

**Example:**
```
VITE_EMAILJS_SERVICE_ID=service_abc123
VITE_EMAILJS_TEMPLATE_ID=template_xyz789
VITE_EMAILJS_PUBLIC_KEY=user_AbCdEfGhIjKlMnOp
```

---

## ‚öôÔ∏è Setting Variables in Different Platforms

### Vercel
1. Go to project dashboard
2. Settings ‚Üí Environment Variables
3. Add each variable
4. Select environment: Production, Preview, Development
5. Save and redeploy

### Railway
1. Go to project
2. Variables tab
3. Add variables
4. Deploy

### Render
1. Go to service
2. Environment tab
3. Add environment variables
4. Save changes (auto-redeploys)

### Netlify
1. Site settings
2. Build & deploy ‚Üí Environment
3. Add variables
4. Trigger deploy

---

## ‚úÖ Verification

After setting variables, verify:

```bash
# Check if backend can connect to MongoDB
curl https://your-site.vercel.app/api/team

# Should return:
# {"success":true,"count":0,"data":[]}
# or team data if seeded

# Check health endpoint
curl https://your-site.vercel.app/health

# Should return:
# {"success":true,"message":"6ixminds Labs API is running",...}
```

---

## üö® Security Notes

1. **Never commit .env files to Git** (already in .gitignore)
2. **Use different JWT secrets** for development and production
3. **Rotate secrets periodically** (every 90 days recommended)
4. **Use strong passwords** for MongoDB users
5. **Limit MongoDB IP whitelist** in production (not 0.0.0.0/0)

---

## üîÑ Local Development Setup

Create `.env` file in root:
```env
VITE_EMAILJS_SERVICE_ID=your_service_id
VITE_EMAILJS_TEMPLATE_ID=your_template_id
VITE_EMAILJS_PUBLIC_KEY=your_public_key
```

Create `.env` file in `backend/`:
```env
MONGODB_URI=mongodb://localhost:27017/6ixmindslabs
JWT_SECRET=local-dev-secret-key-change-in-production
NODE_ENV=development
PORT=3000
```

**Note:** For local development, you can use local MongoDB or MongoDB Atlas.

---

## üìû Need Help?

If environment variables aren't working:
1. Check spelling (case-sensitive)
2. Verify no extra spaces
3. Restart development server
4. Clear browser cache
5. Check Vercel deployment logs
6. Verify MongoDB connection string format

**Common Issues:**
- `VITE_` prefix required for frontend variables
- MongoDB URI must be URL-encoded if password has special characters
- JWT_SECRET must be at least 32 characters
- EmailJS keys must match your EmailJS account

---

**Last Updated:** December 2025
